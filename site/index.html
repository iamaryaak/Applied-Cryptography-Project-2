<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Your Block Cipher</title>
</head>
<body>
    <h1>
        <!--Create form and save answers to CSV file-->
        Answer these questions to choose the correct Block Cipher!
        <br>
        How lightweight is your Product: <select id="q1">
            <option value="light">Light</option>
            <option value="medium-heavy">Medium-Heavy</option>
        </select><br />
        <span id="q2">Security Question 2: <input type="text" /></span><!--.data-capture-buttons-->

        <!--Script for adaptive questions-->
        <script>
            document.getElementById("q1").onchange = function () {
            if (document.getElementById("q1").options[document.getElementById("q1").selectedIndex].value == "light")
                document.getElementById("q2").style.display = "none";
            else
                document.getElementById("q2").style.display = "block";
        }
        </script>

        <!--code for decision tree-->
        <script>
            var fs = require('fs');
            var csv = require('csv');
            var C45 = require('c4.5');

            fs.readFile('data.csv', function(err, data) {
            if (err) {
                console.error(err);
                return false;
            }

            csv.parse(data, function(err, data) {
                if (err) {
                console.error(err);
                return false;
                }

                var headers = data[0];
                var features = headers.slice(1,-1); // ["attr1", "attr2", "attr3"]
                var featureTypes = ['category','number','category'];
                var trainingData = data.slice(1).map(function(d) {
                return d.slice(1);
                });
                var target = headers[headers.length-1]; // "class"
                var c45 = C45();

                c45.train({
                    data: trainingData,
                    target: target,
                    features: features,
                    featureTypes: featureTypes
                }, function(error, model) {
                if (error) {
                    console.error(error);
                    return false;
                }

                var testData = [
                    ['B',71,'False'],
                    ['C',70,'True'],
                ];

                console.log(model.classify(testData[0]) === 'CLASS1'); // true
                console.log(model.classify(testData[1]) === 'CLASS2'); // true
                });
            });
            });

        </script>
    </h1>
</body>
</html>