<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Your Block Cipher</title>
</head>
<body>
        <!--Create form and save answers to CSV file-->
        <h1>Answer these questions to choose the correct Block Cipher!</h1>
        <br>
        How lightweight is your Product?
        <select id="q1">
            <option value="light">Light</option>
            <option value="medium-heavy">Medium-Heavy</option>
        </select>
        <br />
        <!--question 2-->
        How much personal information does your product store?
        <select id="q2">
            <option value="none">Personal Use (breakable)</option>
            <option value="med">Corporate Use</option>
            <option value="max">Maximum Security</option>
        </select><!--.data-capture-buttons-->
        <br>
         <!--question 3-->
         Does your product use hash function as part of its data structure?
         <select id="q3">
            <option value="yes">Yes</option>
            <option value="no">No</option>
            <option value="unsure">Unsure</option>
        </select>

        <br>
         <!--question 4-->
        Is using a standard, well-implemented system important to you?
        <select id="q4">
            <option value="q4-yes">Yes</option>
            <option value="q4-no">No</option>
        </select>

        <!--Script for adaptive questions-->
        <script>
            // question 1
            document.getElementById("q1").onchange = function () {
            if (document.getElementById("q1").options[document.getElementById("q1").selectedIndex].value == "light"){
                // SIMON and Blowfish questions only
                document.getElementById("q2").style.display = "none";
                document.getElementById("q3").style.display = "none";
            }else
                // AES, DES, Triple DES questions only
                document.getElementById("q2").style.display = "block";
            }

            // question 2
            document.getElementById("q2").onchange = function () {
            if (document.getElementById("q2").options[document.getElementById("q2").selectedIndex].value == "none")
                // DES, SIMON,
                document.getElementById("q3").style.display = "none";
            if (document.getElementById("q2").options[document.getElementById("q2").selectedIndex].value == "med")
                // 3DES and AES
                document.getElementById("q3").style.display = "block";
            else
                // Blowfish
                document.getElementById("q3").style.display = "block";
            }

            // question 3
            document.getElementById("q3").onchange = function () {
            if (document.getElementById("q3").options[document.getElementById("q3").selectedIndex].value == "yes")
                // Triple DES, AES, Blowfish
                document.getElementById("q3").style.display = "none";
            else
                // IDEA, SIMON, DES
                document.getElementById("q3").style.display = "block";
            }

        </script>

        <!--code for decision tree-->
        <script>
            var fs = require('fs');
            var csv = require('csv');
            var C45 = require('c4.5');

            fs.readFile('data.csv', function(err, data) {
            if (err) {
                console.error(err);
                return false;
            }

            csv.parse(data, function(err, data) {
                if (err) {
                console.error(err);
                return false;
                }

                var headers = data[0];
                var features = headers.slice(1,-1); // ["attr1", "attr2", "attr3"]
                var featureTypes = ['category','number','category'];
                var trainingData = data.slice(1).map(function(d) {
                return d.slice(1);
                });
                var target = headers[headers.length-1]; // "class"
                var c45 = C45();

                c45.train({
                    data: trainingData,
                    target: target,
                    features: features,
                    featureTypes: featureTypes
                }, function(error, model) {
                if (error) {
                    console.error(error);
                    return false;
                }

                var testData = [
                    ['B',71,'False'],
                    ['C',70,'True'],
                ];

                console.log(model.classify(testData[0]) === 'CLASS1'); // true
                console.log(model.classify(testData[1]) === 'CLASS2'); // true
                });
            });
            });

        </script>
    </h1>
</body>
</html>